<p align="right">
  üåê <a href="https://www.superstarpestcontrol.com/" target="_blank"><u><strong>Visit Website</strong></u></a>
</p>

<p align="center">
  <img src="https://www.superstarpestcontrol.com/static/images/super_star_logo.png" alt="Project Logo" width="120"/>
</p>

<h1 align="center" style="font-size: 36px;"><strong>Super Star Pest Control Services</strong></h1>

<h3 align="center"><em>Comprehensive Documentation for Developers</em></h3>

<div align="center">

  
| Key                     | Value                                                   |
|--------------------------|-----------------------------------------------------------|
| **Project Name**         | Super Star Pest Control Services                         |
| **Developed By**         | Beginning Solutions                                      |
| **Client Name**          | Sanjay Gavhane                                           |
| **Client Company Name**  | Super Star Pest Control Services Pvt. Ltd                |
| **Created At**           | April 2025                                               |
| **Last Updated**         | May 5, 2025                                              |

</div>


## üìú Introduction

**Beginning Solutions** is a software company that developed this project, **Super Star Pest Control Services**. The project consists of two main components:

1. **Website for Users**: A user-friendly website for browsing and booking pest control services. This is accessible to customers who need pest control services from **Super Star Pest Control**.
   
2. **Comprehensive Admin Panel**: A dedicated admin panel for the company to manage and monitor bookings, services, customer interactions, and more. This panel is designed to give complete control to the business for managing operations.

The platform provides an easy-to-use **booking system** for pest control services offered by **Super Star Pest Control Services Pvt. Ltd**.


## üéØ Purpose

The primary goal of the **Super Star Pest Control Services** project is to provide an easy and efficient way for customers to book pest control services online. This platform enables seamless interaction between the customers and the company, **Super Star Pest Control Services Pvt. Ltd.**

### Key Objectives:
- **User Convenience**: Allow customers to book pest control services from anywhere, anytime, using an intuitive web interface.
- **Efficient Management**: Provide an **Admin Panel** for the company to manage customer requests, service bookings, and track job progress.
- **Service Transparency**: Ensure customers receive clear and detailed information about the available services, making it easy to choose the best solution for their needs.


## üìä Project Overview

**Super Star Pest Control Services** is a comprehensive platform that enables users to book pest control services conveniently through a website, while also providing an efficient admin panel for company management.

### **Website Features (User Side)**:
1. **Service Catalog**: The website showcases all the pest control services provided by **Super Star Pest Control Services Pvt. Ltd**. Each service comes with a detailed description, including its importance, frequency of service (e.g., after how many days the service should be repeated), and more.
   
2. **Slot Booking System**: Users can select a convenient time slot for their pest control service booking. The system ensures that the user gets the right time and date based on their preferences.
   
3. **Payment Integration**: After booking a slot, users can pay the required amount for the service using an integrated payment system, which ensures a seamless payment experience.

4. **Ongoing and Future Offers**: Users can view any ongoing offers and upcoming discounts directly on the website. This feature helps users take advantage of promotional deals.

### **Admin Panel Features (Company Side)**:
1. **Employee Assignment**: After a booking is made, the company manager or admin can assign an employee to the job for inspection and work completion. This ensures that every job is assigned to the right employee in a timely manner.

2. **Customer SMS Notifications**: Once a booking is made, the system automatically sends the customer details (name, phone, address, and service information) via SMS. This helps the assigned employee easily find the client's location and provide the service without delay.

3. **Service Management**: The admin panel allows the company to manage all aspects of the service, including customer interactions, job scheduling, and employee coordination.

### **How It Works**:
- **User Side**: Users can browse services, choose the service they need, select a time slot, and pay for the service online.
- **Admin Side**: After a booking, the admin assigns employees, tracks the progress of the job, and ensures smooth communication with the customer.

This system provides a seamless experience for both users and company managers, making pest control services more accessible and manageable.


## üîó Links

Here are the important links for accessing the **Super Star Pest Control Services** platform:

- **[Main Website](https://www.superstarpestcontrol.com/)**: Access the website where users can browse services, book slots, and make payments.
- **[Admin Panel](https://admin.superstarpestcontrol.com/)**: The dedicated admin panel where company managers and admins can manage bookings, assign employees, and track job progress.
- **[Django Default Admin Panel](https://superstarpestcontrol.com/supreme/)**: Access the Django default admin panel for advanced administrative controls (if necessary).


## ‚öôÔ∏è Tech Stack

The **Super Star Pest Control Services** project utilizes a variety of modern technologies for both the website and the admin panel. Below is the breakdown of the tech stack used:

### **Backend**:
- **Python**: The primary programming language used for backend development.
- **Django**: A high-level Python web framework that encourages rapid development and clean, pragmatic design.
- **Django REST Framework**: A powerful toolkit for building Web APIs in Django, which facilitates seamless integration between the backend and frontend.

### **Frontend (Website)**:
- **HTML**: For creating the basic structure of the web pages.
- **CSS**: For styling and layout of the web pages.
- **JavaScript**: For adding interactivity and functionality to the website.
- **jQuery**: A fast, small, and feature-rich JavaScript library that simplifies tasks such as DOM manipulation and event handling.
- **Bootstrap**: A popular open-source CSS framework for responsive, mobile-first web development.

### **Frontend (Admin Panel)**:
- **React**: A JavaScript library for building user interfaces, used for creating a dynamic and responsive admin panel.
- **Tailwind CSS**: A utility-first CSS framework used in the admin panel for rapid UI development and consistent styling.

### **Database**:
- **MySQL**: A relational database management system (RDBMS) used to store and manage all application data, including user information, bookings, and service details.

### **APIs & External Tools**:
- **SMTP**: For sending email notifications and alerts to users and admin.
- **Twilio**: For sending SMS notifications to users and employees about booking details and updates.
- **Razorpay**: For handling payments securely on the website, allowing users to pay for the services they book.
- **Google Maps API**: For integrating location-based services into the platform (e.g., showing the location of the customer).
- **Google Maps Reviews API**: For displaying customer reviews on the website related to pest control services.

### **System Architecture**:
- **Single Backend**: The backend is designed to handle both the website and the admin panel seamlessly. Django serves both user-facing services and admin panel functionalities through the same backend, using Django REST Framework to manage APIs and data exchange.


## ‚ú® Features

### **Website Features (User Side)**

1. **Service Catalog**:
   - The website showcases a comprehensive list of pest control services offered by **Super Star Pest Control Services**. Users can explore each service to understand its importance, frequency, and details about how it helps in pest control.
   
2. **Slot Booking System**:
   - Users can select their preferred date and time slot for the pest control service. This feature allows users to book a slot based on their convenience, making the service more user-friendly and flexible.

3. **Payment Integration**:
   - **Razorpay** integration allows users to securely pay for their booked services online. The payment process is smooth and quick, ensuring that users can confirm their bookings instantly after making the payment.

4. **Ongoing and Future Offers**:
   - The website displays current and upcoming offers on pest control services. Users can view the latest discounts, seasonal offers, and promotions, helping them save money while booking the services.

5. **Service Information**:
   - Each service page includes detailed information about why the service is important, how often it should be repeated, and the benefits it offers. This helps users make informed decisions about the pest control services they need.

---

### **Admin Panel Features (Company Side)**

1. **Employee Assignment**:
   - Once a user books a service, the admin or company manager can assign an employee to carry out the pest control work. The admin can track the progress and ensure that each booking is handled by the right personnel.

2. **Customer Details Management**:
   - After a user makes a booking, the admin panel collects and displays the customer‚Äôs details, including their name, phone number, and address. This information is crucial for assigning tasks and providing quality service.

3. **Customer SMS Notifications**:
   - Using **Twilio**, the admin panel sends SMS notifications to both the customer and the assigned employee. These messages include key details such as the customer‚Äôs name, address, and the assigned service. This ensures that everyone is informed and the service is completed on time.

4. **Booking Management**:
   - The admin can view and manage all user bookings. This includes modifying existing bookings, confirming payments, and updating the status of the service. The system ensures that everything is organized and efficient.

5. **Service Management**:
   - Admins can manage the services offered by **Super Star Pest Control Services**. They can add new services, update existing ones, or remove outdated services. This feature ensures that the website and admin panel are always up-to-date with the latest offerings.

6. **Performance Analytics**:
   - The admin panel includes reporting features where managers can track the performance of employees and services, view customer satisfaction, and assess the overall business performance. This helps in making data-driven decisions for business growth.

7. **Real-Time Updates**:
   - The admin panel is designed to provide real-time updates on bookings, payments, and task assignments. This helps the company stay responsive and efficient in managing daily operations.
   

### **Integrated Technologies in Features**:

- **Razorpay**: Seamless payment gateway integration for handling transactions.
- **Twilio**: SMS notifications for customer and employee updates.
- **Google Maps**: Integration to track and send the customer's location to the assigned employee for better navigation.


## ‚öôÔ∏è Installation and Setup

To run the **Super Star Pest Control Services** project, you can set it up either locally or on a server. Below are the detailed instructions:

### Running Locally

1. Navigate to the project directory:
   ```bash
   cd BSS02
   ```

2. Go to the `website` folder:
   ```bash
   cd website
   ```

3. Set up the Python virtual environment:
   ```bash
   venv\Scripts\activate
   ```
   The prompt should look like this:
   ```
   (venv) C:\GitHub\BSS02\website>
   ```

4. Install the required dependencies:
   ```bash
   pip install -r requirements.txt
   ```

5. Set up the `.env` file with the necessary credentials.

6. Apply database migrations:
   ```bash
   python manage.py makemigrations api
   python manage.py makemigrations
   python manage.py migrate
   ```

7. Start the Django development server:
   ```bash
   python manage.py runserver
   ```

8. Open the provided link in your browser to access the project locally.

### Running the Admin Panel Locally (React)

1. Navigate to the `admin_panel` directory:
   ```bash
   cd BSS02/admin_panel
   ```

2. Install Node.js dependencies:
   ```bash
   npm install
   ```

3. Start the React development server:
   ```bash
   npm start
   ```

### Running on a Server

To deploy and run the **Super Star Pest Control Services** website on a server, follow these steps:

1. Navigate to the project directory on the server:
   ```bash
   cd /path/to/project/BSS02
   ```

2. Go to the `website` folder:
   ```bash
   cd website
   ```

3. Activate the Python virtual environment:
   ```bash
   source venv/bin/activate
   ```

4. Install the required dependencies:
   ```bash
   pip install -r requirements.txt
   ```

5. Navigate to the folder containing the `manage.py` file (backend):
   ```bash
   cd /path/to/project/BSS02/website
   ```

6. Apply database migrations:
   ```bash
   python manage.py makemigrations api
   python manage.py makemigrations
   python manage.py migrate
   ```

7. Collect static files:
   ```bash
   python manage.py collectstatic
   ```

8. Start the Django server:
   ```bash
   python manage.py runserver 0.0.0.0:8000
   ```
   - Replace `8000` with any unused port on your server if needed.

> **Note**: The React admin panel cannot be run directly on the server using this method. For deploying the React admin panel, refer to the **Deployment** section.

--- 


## üóÇ Project Structure

The **Super Star Pest Control Services** project is organized into a structured hierarchy of directories and files to ensure clarity and ease of navigation. Below is the detailed breakdown of the project structure:

### **Root Directory: `website`**
- `.gitignore`: Git ignore file for managing untracked files.
- `backend/`: Contains the core backend logic, including Django apps.
- `requirements.txt`: Python dependencies required for the project.
- `venv/`: Python virtual environment folder.

---

### **Backend Directory: `website/backend`**
- `.env`: Environment variables file for sensitive data.
- `.env.example`: Example file for environment variables.
- `.gitignore`: Git ignore file specific to the backend.
- `manage.py`: Django's command-line utility for administrative tasks.
- `api/`: Contains the main API logic for the project.
- `backend/`: Core Django backend configuration files.
- `frontend/`: Handles templates, static files, and frontend logic.
- `media/`: Directory for storing uploaded files.

---

### **API Directory: `website/backend/api`**
- `admin.py`: Configuration for the admin interface.
- `apps.py`: Application configuration for the API app.
- `migrations/`: Contains database migration files.
- `models.py`: Django models defining the database schema.
- `serializers.py`: Serializers for converting data between Python objects and JSON.
- `tasks.py`: Celery tasks for background processing.
- `tests.py`: Unit tests for the API app.
- `urls.py`: URL routing for the API.
- `utils.py`: Utility functions used across the API.
- `views.py`: Django views handling HTTP requests and responses.

---

### **Backend Configuration Directory: `website/backend/backend`**
- `asgi.py`: ASGI configuration for asynchronous server deployment.
- `celery.py`: Celery configuration for task queues.
- `settings.py`: Core Django settings for the project.
- `urls.py`: URL routing for the backend.
- `wsgi.py`: WSGI configuration for web server deployment.

---

### **Frontend Directory: `website/backend/frontend`**
- `admin.py`: Configuration for the frontend admin interface.
- `apps.py`: Application configuration for the frontend app.
- `migrations/`: Contains database migration files for the frontend.
- `models.py`: Models related to frontend functionalities.
- `static/`: Contains static files (CSS, JS, images, etc.).
- `templates/`: Contains HTML templates for the frontend.
- `tests.py`: Unit tests for the frontend app.
- `urls.py`: URL routing for the frontend.
- `views.py`: Django views for rendering templates.

---

### **Frontend Templates Directory: `website/backend/frontend/templates`**
- `404.html`: Custom 404 error page.
- `about.html`: About Us page.
- `admin.html`: Template for the admin interface.
- `base.html`: Base template for consistent layouts.
- `blog.html`: Blog listing page.
- `blogs/`: Contains individual blog templates.
  - `blog01.html`, `blog02.html`, `blog03.html`: Blog content pages.
- `blog_details.html`: Detailed blog page.
- `booking_info.html`: Booking information page.
- `contact.html`: Contact Us page.
- `faq.html`: Frequently Asked Questions page.
- `includes/`: Includes reusable components.
  - `booking_form.html`, `feedback.html`, `footer.html`, `metatags.html`, `navbar.html`, `reviews.html`: Modular components for templates.
- `index.html`: Home page template.
- `offer.html`: Offers page.
- `offer_booking.html`: Offer booking page.
- `policy.html`: Privacy policy page.
- `service.html`: Services page.
- `services/`: Contains templates for individual services.
  - `anti_fungal_treatment.html`, `anti_termite_control.html`, `bed_bugs_control.html`, etc.
- `terms_conditions.html`: Terms and Conditions page.
- `thank_you.html`: Thank You page.

---

### **Frontend Static Directory: `website/backend/frontend/static`**
- `css/`: Stylesheets for the project.
  - `about.css`, `blog.css`, `contact.css`, `index.css`, `offer.css`, `services.css`, `style.css`
- `images/`: Images used throughout the project.
- `js/`: JavaScript files for frontend interactivity.
  - `about.js`, `contact.js`, `feedback.js`, `index.js`, `reviews.js`, `service.js`, `script.js`
- `json/`: JSON files for data representation.
- `videos/`: Videos displayed on the website.

---

This structure ensures the separation of concerns, making the project maintainable and scalable.


## üöÄ Usage

The **Super Star Pest Control Services** project is designed for both users and administrators. Below are the usage instructions for each type of user:

---

### **For Users (Website)**

1. **Browse Services**  
   Visit the website and explore the catalog of pest control services. Each service provides details such as benefits, frequency, and pricing.

2. **Book a Slot**  
   Select a service and choose a convenient time slot for the booking.

3. **Make Payments**  
   Complete your booking by making payments through the integrated payment gateway.

4. **View Offers**  
   Check for ongoing offers and discounts directly on the homepage.

5. **Customer Support**  
   Use the contact page or FAQs section for any queries or assistance.

---

### **For Administrators (Admin Panel)**

1. **Login**  
   Access the admin panel using your credentials.

2. **Manage Bookings**  
   View, edit, and assign employees to customer bookings.

3. **Send Notifications**  
   Automatically send SMS notifications to customers and employees upon booking assignments.

4. **Track Services**  
   Monitor the progress of ongoing services and ensure timely completion.

5. **Service Configuration**  
   Update service details, pricing, and offers as per business requirements.

---

### **For Developers**

1. **Setup the Project**  
   Follow the [Installation and Setup](#-installation-and-setup) instructions to run the project locally or on a server.

2. **Understand the Codebase**  
   Refer to the [Project Structure](#-project-structure) section for a detailed breakdown of the codebase.

3. **Extend Functionality**  
   - Add new features by creating new Django apps under the `backend/` directory.
   - Enhance the frontend by updating templates in the `frontend/templates/` directory or static assets in the `frontend/static/` directory.

4. **Debugging and Testing**  
   Use the provided `tests.py` files in both `api` and `frontend` directories to write and run tests for debugging and validation.


This project provides a seamless experience for all stakeholders‚Äîusers, administrators, and developers. Ensure to follow the documentation for proper usage and maintenance.


# üåê Website Frontend Documentation

This document provides a comprehensive guide to the **frontend** portion of the website for **Super Star Pest Control Services**. It includes a breakdown of the file structure, templates, static assets, and key components that power the user-facing side of the project.

---

## üóÇ Frontend Structure Overview

The frontend is designed using Django templates and static files such as CSS, JavaScript, images, and videos. Below is the organized structure of the frontend directory:

### **Frontend Directory: `website/backend/frontend`**
- **`admin.py`**: Admin configuration for the frontend app.
- **`apps.py`**: Application configuration for the frontend.
- **`migrations/`**: Contains migration files for database changes related to frontend functionalities.
- **`models.py`**: Models associated with the frontend (if any).
- **`static/`**: Contains all static assets (CSS, JavaScript, images, videos, etc.).
- **`templates/`**: Contains HTML templates for the frontend.
- **`tests.py`**: Unit tests for the frontend.
- **`urls.py`**: URL routing for the frontend.
- **`views.py`**: Views responsible for rendering templates and handling frontend logic.

---

## üñº Templates Directory: `frontend/templates`

The `templates/` directory contains HTML files organized for various pages and reusable components. 

### Key Templates:
- **`404.html`**: Custom 404 error page.
- **`about.html`**: Displays information about the company.
- **`admin.html`**: Admin-specific frontend interface.
- **`base.html`**: Base template for consistent layout across pages.
- **`blog.html`**: Blog listing page.
- **`blog_details.html`**: Detailed view of a single blog post.
- **`booking_info.html`**: Displays booking-related information for users.
- **`contact.html`**: Contact form and company details.
- **`faq.html`**: Frequently Asked Questions page.
- **`index.html`**: Homepage with a dynamic service and offer display.
- **`offer.html`**: Displays current offers.
- **`offer_booking.html`**: Enables users to book services with offers.
- **`policy.html`**: Privacy policy page.
- **`service.html`**: Showcases available pest control services.
- **`terms_conditions.html`**: Terms and conditions page.
- **`thank_you.html`**: Thank you page displayed after successful actions.

### Subdirectories:
1. **`blogs/`**: Contains individual blog templates:
   - `blog01.html`, `blog02.html`, `blog03.html`, etc.

2. **`services/`**: Contains templates for specific services:
   - `anti_fungal_treatment.html`
   - `anti_termite_control.html`
   - `bed_bugs_control.html`
   - `cockroach_control.html`
   - `rodent_control.html`
   - And more (total: 13 service templates).

3. **`includes/`**: Reusable components for modular design:
   - `booking_form.html`: Form for booking services.
   - `feedback.html`: Displays user feedback.
   - `footer.html`: Footer section for all pages.
   - `metatags.html`: Meta tags for SEO optimization.
   - `navbar.html`: Navigation bar for the website.
   - `reviews.html`: Section displaying customer reviews.

---

## üé® Static Files: `frontend/static`

The `static/` directory contains all the assets required for styling, scripts, and media.

### Subdirectories:
1. **`css/`**: Stylesheets for the website.
   - `about.css`: Styles for the About Us page.
   - `blog.css`: Styles for blog pages.
   - `contact.css`: Styles for the Contact Us page.
   - `index.css`: Styles for the homepage.
   - `offer.css`: Styles for the offers page.
   - `services.css`: Styles for the services page.
   - `style.css`: General styles used across the website.

2. **`js/`**: JavaScript files for interactivity.
   - `about.js`: Scripts for the About Us page.
   - `contact.js`: Scripts for the Contact Us page.
   - `feedback.js`: Scripts for feedback forms.
   - `index.js`: Homepage scripts.
   - `reviews.js`: Scripts for managing customer reviews.
   - `service.js`: Scripts for the services page.
   - `script.js`: General-purpose scripts.

3. **`images/`**: Contains all the images used in the project.

4. **`videos/`**: Contains video files displayed on the website.

5. **`json/`**: JSON files for data representation (if any).

---

## üîë Key Features

### **1. Responsive Design**
The frontend is built with responsiveness in mind, ensuring a seamless user experience across devices (desktop, tablet, mobile).

### **2. Modular Templates**
Templates are designed with reusability and modularity. Components like the navbar, footer, and booking form are included where needed, reducing redundancy.

### **3. Dynamic Content**
Pages like `index.html`, `service.html`, and `offer.html` dynamically display content fetched from the backend, ensuring up-to-date information for users.

### **4. Consistent Styling**
All pages share a consistent look and feel, achieved through the use of the `base.html` template and shared CSS files.

### **5. SEO Optimized**
Meta tags are included in the `metatags.html` component to improve the website's visibility in search engines.

---

## üõ† Development Workflow

1. **Modifying Templates**
   - Templates can be updated in the `frontend/templates/` directory.
   - Use the `includes/` directory for reusable components.

2. **Adding New Styles**
   - Add or modify CSS files in the `frontend/static/css/` directory.
   - Link the new styles in the corresponding template using `{% static %}` tags.

3. **Enhancing Interactivity**
   - Add JavaScript files in the `frontend/static/js/` directory.
   - Link the scripts in the corresponding template using `{% static %}` tags.

4. **Updating Media**
   - Add images to the `frontend/static/images/` directory.
   - Add videos to the `frontend/static/videos/` directory.
   - Reference media in templates using `{% static %}` tags.

---

## üë®‚Äçüíª For Developers

- **Navigation Across Templates**:  
  Use the `urls.py` file in the `frontend/` directory to define new routes for templates.

- **Testing Changes Locally**:  
  Run the Django development server and navigate through the website to verify changes.

- **Debugging Issues**:  
  Use the browser's developer tools to inspect elements, monitor network requests, and debug JavaScript.

---

This documentation covers all aspects of the website's frontend, ensuring developers and designers have a clear understanding of its structure and functionality.

# üõ† Backend Documentation

The **Super Star Pest Control Services** backend is built on Django, providing robust functionality for service management, booking systems, and administrative tasks. This document outlines the main libraries, environment configuration, dependencies, backend features, and installation steps.

---

## ‚ö° Backend Overview

The backend is responsible for the following functionalities:
- **Database Management**: Handles all user, service, booking, and company data using MySQL.
- **API Development**: Provides RESTful APIs for frontend integration.
- **Payment Processing**: Facilitates online payments using RazorPay.
- **Email Services**: Manages email notifications using SMTP.
- **Google Maps Integration**: Enables location-based services like address mapping and directions.
- **Task Scheduling**: Uses Celery for background tasks and periodic jobs.
- **Authentication**: Implements secure user authentication using JWT.

---

## üåç Environment Configuration

Below is an example `.env` file used for configuring the backend environment:

```ini name=.env.example
# Secret Key Configuration
SECRET_KEY=
DEBUG= 

# Database Configuration (MYSQL)
DB_NAME=
DB_USER=
DB_PASSWORD=
DB_HOST=
DB_PORT=

# Location Configuration (Google Maps)
GOOGLE_API_KEY=
PLACE_ID=

# Payment Gateway Configuration (RazorPay)
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=

# Email Configuration (SMTP)
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
```

---

## üìö Main Libraries

Below are the primary libraries and frameworks used in the backend:

- **Django**: The main web framework for building the backend.
- **Django Rest Framework (DRF)**: For creating RESTful APIs.
- **Celery**: For managing asynchronous tasks and background jobs.
- **Redis**: Used as a message broker for Celery.
- **MySQL**: Database system for storing application data.
- **RazorPay**: Payment gateway integration for processing payments.
- **Twilio**: For SMS notifications.
- **Google Maps API**: Location-based features such as address lookups.

---

## üöÄ Backend Features

### **1. Database Management**
- Uses **MySQL** database with Django ORM for efficient data handling.
- Manages user accounts, bookings, services, and payment details.

### **2. API Development**
- Provides RESTful endpoints for frontend integration.
- Handles user authentication, service fetching, bookings, and payments.

### **3. Task Scheduling**
- Background tasks like email notifications, SMS updates, and job assignments are managed using Celery and Redis.

### **4. Payment Processing**
- Secure and seamless payment integration with RazorPay.

### **5. Notifications**
- Sends booking confirmations and updates via email (SMTP) and SMS (Twilio).

### **6. Google Maps Integration**
- Enables location-based features such as mapping addresses and calculating distances.

### **7. Security**
- Implements JWT Authentication for secure API access.
- Protects sensitive data using environment variables.

---

## üì¶ Dependencies

Below are some of the key dependencies used in the backend:

- **Django**: Core framework for backend development.
- **djangorestframework**: For building REST APIs.
- **celery**: Task queue for asynchronous jobs.
- **redis**: Message broker for Celery.
- **mysqlclient**: MySQL database adapter for Python.
- **razorpay**: Integration for RazorPay payment gateway.
- **twilio**: SMS notification service.
- **django-cors-headers**: To handle Cross-Origin Resource Sharing (CORS).
- **django-celery-beat**: Scheduler for periodic Celery tasks.
- **python-decouple**: For environment variable management.

---

## ‚öôÔ∏è Installation and Setup

Refer to the [Installation and Setup](#installation-and-setup) section for detailed instructions on how to set up and run the backend.

# üõ† Admin Panel Frontend Documentation

This document provides a comprehensive guide to the **Admin Panel Frontend** of **Super Star Pest Control Services**. The Admin Panel is designed to help administrators manage services, bookings, customer interactions, and employees efficiently. Below is the structured documentation of the frontend aspects of the Admin Panel.


# üìö API Documentation

This document provides a detailed guide for the APIs of **Super Star Pest Control Services**. It includes information about each endpoint, how to run the APIs, and how to test them using tools like Postman.

---

## üî∞ Introduction

The API is designed to provide a seamless backend for managing services, bookings, employees, and more. It is built using **Django Rest Framework (DRF)** and follows RESTful principles.

### **Key Features**
- **Authentication**: All endpoints require authentication using JWT tokens with the `Bearer` scheme.
- **CRUD Operations**: Create, Read, Update, and Delete resources like services, bookings, and employees.
- **Integration**: APIs for RazorPay, email notifications, Twilio and Google Maps.

---

## üöÄ How to Run the API

1. **Start the Development Server**:
   Run the following command to start the Django development server:
   ```bash
   python manage.py runserver
   ```

2. **Base URL**:
   The API is accessible at:
   ```
   http://127.0.0.1:8000/api/
   ```

3. **Authentication**:
   - Authentication is handled using **JWT Tokens**.
   - Obtain a token by logging in via the `/api/login/` endpoint.
   - Include the token in the `Authorization` header for all requests:
     ```
     Authorization: Bearer <token>
     ```

---

## üõ† Testing the API

You can test the API using tools like **Postman** or **cURL**.

### **Using Postman**
1. Import the API endpoints into Postman manually or via a collection file.
2. Add the required headers (e.g., `Authorization`) for testing protected endpoints.
3. Send requests to the API and verify the responses.

### **Using cURL**
Example cURL command for testing an endpoint:
```bash
curl -X POST http://127.0.0.1:8000/api/register/ \
-H "Content-Type: application/json" \
-H "Authorization: Bearer <token>" \
-d '{
  "phone_number": "+911234567890",
  "name": "John Doe",
  "role": "EMPLOYEE",
  "password": "securepassword123"
}'
```

---

## üìñ Endpoints

### **1. Registration**

#### **Register a New User**
- **URL**: `/register/`
- **Method**: `POST`
- **Authentication**: Required (Bearer Token)
- **Description**: Allows the registration of new users. Superusers can register freely, while other roles have restrictions based on their hierarchy.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **Request Body (JSON Format)**

```json
{
  "phone_number": "+911234567890",
  "name": "John Doe",
  "role": "EMPLOYEE",
  "password": "securepassword123"
}
```

---

### **Request Body (Form Data)**

When sending data as `multipart/form-data` (useful for file uploads like profile photos), include the following fields:

| Key            | Value Type     | Description                                   |
|-----------------|---------------|-----------------------------------------------|
| `phone_number`  | String         | User's phone number in the format `+91XXXXXXXXXX`. |
| `name`          | String         | User's full name.                            |
| `role`          | String         | Role of the user (e.g., "EMPLOYEE").         |
| `password`      | String         | User‚Äôs password.                             |
| `profile_photo` | File (optional)| Profile photo of the user (image file).      |

Example in **Postman**:
1. Select `form-data` in the body.
2. Add the fields mentioned above.
3. Upload a file for the `profile_photo` field.

---

### **Response on Success**
- **Status**: `201 Created`

```json
{
  "success": true,
  "message": "User registered successfully!",
  "data": {
    "id": 1,
    "phone_number": "+911234567890",
    "name": "John Doe",
    "role": "EMPLOYEE",
    "profile_photo": null
  }
}
```

---

### **Response on Validation Error**
- **Status**: `400 Bad Request`

```json
{
  "success": false,
  "errors": {
    "phone_number": ["Phone number must be in the format +911234567890."]
  }
}
```

---

### **Response on Role Restriction Error**
- **Status**: `403 Forbidden`

```json
{
  "success": false,
  "errors": {
    "role": ["You are not allowed to create this role."]
  }
}
```

---

### **Response on Integrity Error**
- **Status**: `400 Bad Request`

```json
{
  "success": false,
  "errors": {
    "phone_number": ["Phone number must be unique."]
  }
}
```
### **2. Login**

#### **User Login**
- **URL**: `/login/`
- **Method**: `POST`
- **Authentication**: Not Required
- **Description**: Allows users to log in using their phone number and password. Employees are restricted from logging in.

##### **Headers**
```json
{
  "Content-Type": "application/json"
}
```

---

### **Request Body (JSON Format)**

```json
{
  "phone_number": "+911234567890",
  "password": "securepassword123"
}
```

---

### **Response on Success**
- **Status**: `200 OK`

```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJh...<truncated>",
  "role": "ADMIN"
}
```

---

### **Response on Forbidden Access (Employee Login)**
- **Status**: `403 Forbidden`

```json
{
  "error": "Employees are not allowed to log in."
}
```

---

### **Response on Invalid Credentials**
- **Status**: `401 Unauthorized`

```json
{
  "error": "Invalid Credentials"
}
```

---

### **3. Reset Password Workflow**

#### **3.1 Request Password Reset OTP**
- **URL**: `/request-reset-otp/`
- **Method**: `POST`
- **Authentication**: Not Required
- **Description**: Sends a password reset OTP to the user's registered phone number.

##### **Headers**
```json
{
  "Content-Type": "application/json"
}
```

---

### **Request Body (JSON Format)**

```json
{
  "phone_number": "+911234567890"
}
```

---

### **Response on Success**
- **Status**: `200 OK`

```json
{
  "message": "OTP sent to your phone."
}
```

---

### **Response on Missing Phone Number**
- **Status**: `400 Bad Request`

```json
{
  "error": "Phone number is required."
}
```

---

### **Response on Non-Existent User**
- **Status**: `404 Not Found`

```json
{
  "error": "User with this phone number does not exist."
}
```

---

#### **3.2 Verify Password Reset OTP**
- **URL**: `/verify-reset-otp/`
- **Method**: `POST`
- **Authentication**: Not Required
- **Description**: Verifies the password reset OTP sent to the user.

##### **Headers**
```json
{
  "Content-Type": "application/json"
}
```

---

### **Request Body (JSON Format)**

```json
{
  "phone_number": "+911234567890",
  "otp": "123456"
}
```

---

### **Response on Success**
- **Status**: `200 OK`

```json
{
  "message": "OTP verified. You can now reset your password."
}
```

---

### **Response on Missing Data**
- **Status**: `400 Bad Request`

```json
{
  "error": "Phone number and OTP are required."
}
```

---

### **Response on Invalid OTP**
- **Status**: `400 Bad Request`

```json
{
  "error": "Invalid OTP."
}
```

---

### **Response on Expired OTP**
- **Status**: `400 Bad Request`

```json
{
  "error": "OTP expired."
}
```

---

### **Response on Already Used OTP**
- **Status**: `400 Bad Request`

```json
{
  "error": "OTP already used."
}
```

---

#### **3.3 Reset Password**
- **URL**: `/reset-password/`
- **Method**: `POST`
- **Authentication**: Not Required
- **Description**: Resets the user's password after OTP verification.

##### **Headers**
```json
{
  "Content-Type": "application/json"
}
```

---

### **Request Body (JSON Format)**

```json
{
  "phone_number": "+911234567890",
  "new_password": "newsecurepassword123"
}
```

---

### **Response on Success**
- **Status**: `200 OK`

```json
{
  "message": "Password reset successful."
}
```

---

### **Response on Missing Data**
- **Status**: `400 Bad Request`

```json
{
  "error": "Phone number and new password are required."
}
```

---

### **Response on Missing OTP Verification**
- **Status**: `400 Bad Request`

```json
{
  "error": "OTP verification required."
}
```

---

### **Response on Non-Existent User**
- **Status**: `404 Not Found`

```json
{
  "error": "User not found."
}
```

---

### **4. User Info**

#### **4.1 Get User Information**
- **URL**: `/user-info/`
- **Method**: `GET`
- **Authentication**: Required (Bearer Token)
- **Description**: Fetches the authenticated user's information.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **Response on Success**
- **Status**: `200 OK`

```json
{
  "phone_number": "+911234567890",
  "name": "John Doe",
  "role": "ADMIN",
  "profile_photo": "http://example.com/media/profile_photos/user.jpg"
}
```

---

#### **4.2 Update User Information**
- **URL**: `/user-info/`
- **Method**: `PUT`
- **Authentication**: Required (Bearer Token)
- **Description**: Updates the authenticated user's information. Only `name` and `profile_photo` can be updated. `phone_number` and `role` are read-only.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **Request Body (JSON Format)**

```json
{
  "name": "John Updated"
}
```

---

### **Request Body (Form Data)**

When updating the profile photo, use `multipart/form-data`. Include:

| Key             | Value Type     | Description                              |
|------------------|---------------|------------------------------------------|
| `name`          | String         | User's updated name.                     |
| `profile_photo` | File (optional)| User's updated profile photo (image).    |

**Example in Form Data:**
- `name`: "John Updated"
- `profile_photo`: [Upload File]

---

### **Response on Success**
- **Status**: `200 OK`

```json
{
  "phone_number": "+911234567890",
  "name": "John Updated",
  "role": "ADMIN",
  "profile_photo": "http://example.com/media/profile_photos/user_updated.jpg"
}
```

---

### **Response on Invalid Data**
- **Status**: `400 Bad Request`

```json
{
  "profile_photo": ["Invalid image format."]
}
```

---

### **5. Users List**

#### **5.1 Get Users List**
- **URL**: `/users/`
- **Method**: `GET`
- **Authentication**: Required (Bearer Token)
- **Description**: Retrieves a list of users based on the role of the authenticated user.

##### **Role-Based Access Control**:
- **SUPERUSER**: Can view all users.
- **ADMIN**: Can view users with roles `MANAGER` and `EMPLOYEE`.
- **MANAGER**: Can view users with the role `EMPLOYEE`.
- **EMPLOYEE**: No access to this endpoint.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **Response on Success**
- **Status**: `200 OK`

```json
[
  {
    "id": 1,
    "phone_number": "+911234567890",
    "name": "John Doe",
    "role": "MANAGER",
    "profile_photo": "http://example.com/media/profile_photos/manager.jpg"
  },
  {
    "id": 2,
    "phone_number": "+911234567891",
    "name": "Jane Smith",
    "role": "EMPLOYEE",
    "profile_photo": "http://example.com/media/profile_photos/employee.jpg"
  }
]
```

---

### **Response on Forbidden Access**
If the user does not have permission to access this endpoint (e.g., an EMPLOYEE):
- **Status**: `403 Forbidden`

```json
{
  "detail": "You do not have permission to perform this action."
}
```

---

### **Response on Unauthorized Access**
If the request is made without a valid token:
- **Status**: `401 Unauthorized`

```json
{
  "detail": "Authentication credentials were not provided."
}
```

---

### **6. User List**

#### **6.1 Get Users List for Dropdowns/Messages**
- **URL**: `/users/list/`
- **Method**: `GET`
- **Authentication**: Required (Bearer Token)
- **Description**: Retrieves a list of users excluding the currently logged-in user. The list is ordered by roles: `SUPERUSER` first, followed by `ADMIN`, and then `MANAGER`.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **Response on Success**
- **Status**: `200 OK`

```json
[
  {
    "id": 1,
    "phone_number": "+911234567890",
    "name": "Super User",
    "role": "SUPERUSER",
    "profile_photo": "http://example.com/media/profile_photos/superuser.jpg"
  },
  {
    "id": 2,
    "phone_number": "+911234567891",
    "name": "Admin User",
    "role": "ADMIN",
    "profile_photo": "http://example.com/media/profile_photos/admin.jpg"
  },
  {
    "id": 3,
    "phone_number": "+911234567892",
    "name": "Manager User",
    "role": "MANAGER",
    "profile_photo": "http://example.com/media/profile_photos/manager.jpg"
  }
]
```

---

### **Response on Unauthorized Access**
If the request is made without a valid token:
- **Status**: `401 Unauthorized`

```json
{
  "detail": "Authentication credentials were not provided."
}
```

---

### **7. Role-Based User List**

#### **7.1 Get Users by Role**
- **URL**: `/users/role/<str:role>/`
- **Method**: `GET`
- **Authentication**: Required (Bearer Token)
- **Description**: Retrieves a list of users filtered by the specified role. Access is controlled based on the role of the authenticated user.

##### **Role-Based Access Control**:
- **SUPERUSER**: Can view all users for any role.
- **ADMIN**: Can view users with roles `MANAGER` and `EMPLOYEE`.
- **MANAGER**: Can view users with the role `EMPLOYEE`.
- **EMPLOYEE**: No access to this endpoint.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **Path Parameter**

| Parameter | Type   | Description                                      |
|-----------|--------|--------------------------------------------------|
| `role`    | String | The role of users to filter (e.g., `SUPERUSER`, `ADMIN`, `MANAGER`, `EMPLOYEE`). |

---

### **Response on Success**
- **Status**: `200 OK`

```json
[
  {
    "id": 1,
    "phone_number": "+911234567890",
    "name": "John Doe",
    "role": "MANAGER",
    "profile_photo": "http://example.com/media/profile_photos/manager.jpg"
  },
  {
    "id": 2,
    "phone_number": "+911234567891",
    "name": "Jane Smith",
    "role": "MANAGER",
    "profile_photo": "http://example.com/media/profile_photos/manager2.jpg"
  }
]
```

---

### **Response on No Users Found or Access Denied**
- **Status**: `404 Not Found`

```json
{
  "message": "No users found or access denied."
}
```

---

### **Response on Unauthorized Access**
If the request is made without a valid token:
- **Status**: `401 Unauthorized`

```json
{
  "detail": "Authentication credentials were not provided."
}
```

---

### **8. User Update**

#### **8.1 Retrieve or Update User Details**
- **URL**: `/users/update/<int:id>/`
- **Method**: `GET`, `PUT`, `PATCH`
- **Authentication**: Required (Bearer Token)
- **Description**: Allows retrieving or updating user details based on the authenticated user's role. Role-based restrictions apply for updates.

##### **Role-Based Access Control**:
- **SUPERUSER**: Can retrieve and update all users.
- **ADMIN**: Can retrieve and update `ADMIN`, `MANAGER`, and `EMPLOYEE` users but not `SUPERUSER`.
- **MANAGER**: Can retrieve and update their own details and `EMPLOYEE` details but cannot change roles.
- **EMPLOYEE**: Can only retrieve and update their own details.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **GET: Retrieve User Details**

#### **Response on Success**
- **Status**: `200 OK`

```json
{
  "id": 5,
  "phone_number": "+911234567890",
  "name": "John Doe",
  "role": "EMPLOYEE",
  "profile_photo": "http://example.com/media/profile_photos/employee.jpg"
}
```

---

### **PUT/PATCH: Update User Details**

#### **Request Body (JSON Format)**

```json
{
  "name": "Updated Name",
  "profile_photo": "http://example.com/media/profile_photos/new_profile.jpg",
  "role": "MANAGER"  // Optional for SUPERUSER/ADMIN
}
```

#### **Request Body (Form Data)**

When updating the profile photo, use `multipart/form-data`. Include:

| Key             | Value Type     | Description                              |
|------------------|---------------|------------------------------------------|
| `name`          | String         | User's updated name.                     |
| `profile_photo` | File (optional)| User's updated profile photo (image).    |
| `role`          | String         | Optional for role changes by `SUPERUSER` or `ADMIN`. |

---

### **Response on Success**
- **Status**: `200 OK`

```json
{
  "id": 5,
  "phone_number": "+911234567890",
  "name": "Updated Name",
  "role": "MANAGER",
  "profile_photo": "http://example.com/media/profile_photos/new_profile.jpg"
}
```

---

### **Response on Forbidden Role Update**
- **Status**: `403 Forbidden`

```json
{
  "error": "You do not have permission to edit this user."
}
```

---

### **Response on Unauthorized Role Change**
- **Status**: `403 Forbidden`

```json
{
  "error": "You do not have permission to change roles."
}
```

---

### **Response on Attempt to Change SUPERUSER Role**
- **Status**: `403 Forbidden`

```json
{
  "error": "The role of a SUPERUSER cannot be changed."
}
```

---

### **Response on Unauthorized Access**
If the request is made without a valid token:
- **Status**: `401 Unauthorized`

```json
{
  "detail": "Authentication credentials were not provided."
}
```

---
### **9. User Detail**

#### **9.1 Retrieve or Delete a User**
- **URL**: `/users/<int:id>/`
- **Method**: `GET`, `DELETE`
- **Authentication**: Required (Bearer Token)
- **Description**: Allows retrieving or deleting a specific user based on the authenticated user's role. Role-based restrictions apply for both operations.

##### **Role-Based Access Control**:
- **SUPERUSER**: Can retrieve or delete any user.
- **ADMIN**: Can retrieve or delete `MANAGER` and `EMPLOYEE` users but not `SUPERUSER`.
- **MANAGER**: Can retrieve or delete `EMPLOYEE` users only.
- **EMPLOYEE**: No access to this endpoint.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **GET: Retrieve User Details**

#### **Response on Success**
- **Status**: `200 OK`

```json
{
  "id": 5,
  "phone_number": "+911234567890",
  "name": "John Doe",
  "role": "EMPLOYEE",
  "profile_photo": "http://example.com/media/profile_photos/employee.jpg"
}
```

---

### **Response on Forbidden Access**
- **Status**: `403 Forbidden`

```json
{
  "error": "You do not have permission to view this user."
}
```

---

### **DELETE: Delete a User**

#### **Response on Success**
- **Status**: `200 OK`

```json
{
  "message": "User deleted successfully."
}
```

---

### **Response on Forbidden Deletion**
- **Status**: `403 Forbidden`

```json
{
  "error": "You do not have permission to delete this user."
}
```

---

### **Response on Unauthorized Access**
If the request is made without a valid token:
- **Status**: `401 Unauthorized`

```json
{
  "detail": "Authentication credentials were not provided."
}
```

---

### **10. User Count**

#### **10.1 Get User Counts by Role**
- **URL**: `/users/count/`
- **Method**: `GET`
- **Authentication**: Required (Bearer Token)
- **Description**: Retrieves the count of users by role. Role-based restrictions apply to determine which roles the authenticated user can view.

##### **Role-Based Access Control**:
- **SUPERUSER**: Can view counts for all roles (`SUPERUSER`, `ADMIN`, `MANAGER`, `EMPLOYEE`).
- **ADMIN**: Can view counts for `MANAGER` and `EMPLOYEE` roles.
- **MANAGER**: Can view the count for `EMPLOYEE` role.
- **EMPLOYEE**: No access to this endpoint.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **Query Parameters**

| Parameter | Type   | Description                                      |
|-----------|--------|--------------------------------------------------|
| `role`    | String | (Optional) Specify a role to filter the count (e.g., `SUPERUSER`, `ADMIN`, `MANAGER`, `EMPLOYEE`). |

---

### **Response on Success (Specific Role)**
If the `role` query parameter is provided:
- **Status**: `200 OK`

```json
{
  "MANAGER": 5
}
```

---

### **Response on Success (All Allowed Roles)**
If no `role` query parameter is provided:
- **Status**: `200 OK`

```json
[
  {
    "role": "MANAGER",
    "count": 5
  },
  {
    "role": "EMPLOYEE",
    "count": 15
  }
]
```

---

### **Response on Forbidden Access**
If the user does not have permission to view the count for the specified role:
- **Status**: `403 Forbidden`

```json
{
  "error": "You do not have permission to view this count."
}
```

---

### **Response on Unauthorized Access**
If the request is made without a valid token:
- **Status**: `401 Unauthorized`

```json
{
  "detail": "Authentication credentials were not provided."
}
```

---
### **11. Employee Management**

#### **11.1 Employee View**
- **URL**: `/employees/`
- **Method**: `GET`, `POST`, `PUT`, `PATCH`, `DELETE`
- **Authentication**: Required (Bearer Token)
- **Description**: Provides CRUD operations for managing employees. Only users with valid authentication can access this endpoint.

##### **Headers**
```json
{
  "Authorization": "Bearer <token>"
}
```

---

### **GET: Retrieve Employee List**
Retrieves a list of all employees. Employees are filtered by the `EMPLOYEE` role and ordered by their IDs in descending order.

#### **Response on Success**
- **Status**: `200 OK`

```json
[
  {
    "id": 1,
    "user": {
      "id": 5,
      "phone_number": "+911234567890",
      "name": "John Employee",
      "role": "EMPLOYEE",
      "profile_photo": "http://example.com/media/profile_photos/employee.jpg"
    },
    "is_available": true
  },
  {
    "id": 2,
    "user": {
      "id": 6,
      "phone_number": "+911234567891",
      "name": "Jane Employee",
      "role": "EMPLOYEE",
      "profile_photo": "http://example.com/media/profile_photos/employee2.jpg"
    },
    "is_available": false
  }
]
```

---

### **POST: Create a New Employee**
Allows the creation of a new employee.

#### **Request Body (JSON Format)**

```json
{
  "user": {
    "phone_number": "+911234567892",
    "name": "New Employee",
    "role": "EMPLOYEE",
    "profile_photo": "http://example.com/media/profile_photos/new_employee.jpg"
  },
  "is_available": true
}
```

#### **Response on Success**
- **Status**: `201 Created`

```json
{
  "id": 3,
  "user": {
    "id": 7,
    "phone_number": "+911234567892",
    "name": "New Employee",
    "role": "EMPLOYEE",
    "profile_photo": "http://example.com/media/profile_photos/new_employee.jpg"
  },
  "is_available": true
}
```

---

### **PUT/PATCH: Update an Employee**
Allows updating employee details.

#### **Request Body (JSON Format)**

```json
{
  "is_available": false
}
```

#### **Response on Success**
- **Status**: `200 OK`

```json
{
  "id": 3,
  "user": {
    "id": 7,
    "phone_number": "+911234567892",
    "name": "New Employee",
    "role": "EMPLOYEE",
    "profile_photo": "http://example.com/media/profile_photos/new_employee.jpg"
  },
  "is_available": false
}
```

---

### **DELETE: Delete an Employee**
Allows deleting an employee record.

#### **Response on Success**
- **Status**: `204 No Content`

---

### **Response on Unauthorized Access**
If the request is made without a valid token:
- **Status**: `401 Unauthorized`

```json
{
  "detail": "Authentication credentials were not provided."
}
```

---

